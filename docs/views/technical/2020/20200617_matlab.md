---
title: 数字图像处理
date: 2020-06-17
tags:
 - Matlab
categories:
 - technical
---

## Matlab

[MATLAB](https://www.mathworks.com)是美国MathWorks公司出品的商业数学软件，用于数据分析、无线通信、深度学习、图像处理与计算机视觉、信号处理、量化金融与风险管理、机器人，控制系统等领域。MATLAB和Mathematica、[Maple](https://www.maplesoft.com.cn)并称为三大数学软件。它在数学类科技应用软件中在数值计算方面首屈一指。MATLAB可以进行矩阵运算、绘制函数和数据、实现算法、创建用户界面、连接其他编程语言的程序等。

表1 Matlab应用领域

| 应 | 用 | 领 | 域 |
| :------: | :------: | :------: | :------: |
| 数值分析 | 数值和符号计算 | 工程与科学绘图 | 控制系统的设计与仿真 |
| <font color=red>数字图像处理</font> | 数字信号处理 | 通讯系统设计与仿真 | 财务与金融工程 |

**优势特点：**
1) 高效的数值计算及符号计算功能，能使用户从繁杂的数学运算分析中解脱出来；
2) 具有完备的图形处理功能，实现计算结果和编程的可视化；
3) 友好的用户界面及接近数学表达式的自然化语言，使学者易于学习和掌握；
4) 功能丰富的应用工具箱(如信号处理工具箱、通信工具箱等) ，为用户提供了大量方便实用的处理工具。


## 数字图像的概念

一幅图像可以被定义为一个二维函数f(x,y),其中x和y是空间(平面)坐标，f在任何坐标处(x,y)处的振幅称为图像在该点的亮度。灰度是用来表示黑白图像亮度的一个术语，而彩色图像是由单个二维图像组合形成的。例如，在RGB彩色系统中，一幅彩色图像是由三幅独立的分量图像(红、绿、蓝)组成的。因此，许多为黑白图像处理开发的技术适用于彩色图像处理，方法是分别处理三副独立的分量图像即可。
图像关于x和y坐标以及振幅连续。要将这样的一幅图像转化为数字形式，就要求数字化坐标和振幅。将坐标值数字化成为取样；将振幅数字化成为量化。采样和量化的过程如图1所示。因此，当f的x、y分量和振幅都是有限且离散的量时，称该图像为数字图像。
作为MATLAB基本数据类型的数值数组本身十分适于表达图像，矩阵的元素和图像的像素之间有着十分自然的对应关系。
![](asset/20200617/Matlab1.png)
图1 图像的采样和量化

**根据图像数据矩阵解释方法的不同，MATLAB把其处理为4类：**
- 亮度图像(Intensity images)
- 二值图像(Binary images)
- 索引图像(Indexed images)
- RGB图像(RGB images)

**(1) 亮度图像**
一幅亮度图像是一个数据矩阵，其归一化的取值表示亮度。若亮度图像的像素都是uint8类或uint16类，则它们的整数值范围分别是[0，255]和[0，65536]。若图像是double类，则像素取值就是浮点数。规定双精度型归一化亮度图像的取值范围是[0，1]。

**(2) 二值图像**
一幅二值图像是一个取值只有0和1的逻辑数组。而一幅取值只包含0和1的uint8类数组，在MATLAB中并不认为是二值图像。

**(3) 索引图像**
索引颜色通常也称为映射颜色，在这种模式下，颜色都是预先定义的，并且可供选用的一组颜色也很有限，索引颜色的图像最多只能显示256种颜色。
一幅索引颜色图像在图像文件里定义，当打开该文件时，构成该图像具体颜色的索引值就被读入程序里，然后根据索引值找到最终的颜色。 

**(4) RGB图像**
一幅RGB图像就是彩色像素的一个M×N×3数组，其中每一个彩色相似点都是在特定空间位置的彩色图像相对应的红、绿、蓝三个分量。按照惯例，形成一幅RGB彩色图像的三个图像常称为红、绿或蓝分量图像。
令fR，fG和fB分别代表三种RGB分量图像。一幅RGB图像就利用cat(级联)操作将这些分量图像组合成彩色图像：

<center>rgb_image=cat(3,fR,fG,fB)</center>

在操作中，图像按顺序放置。

## 数据类和图像类型间的转化

表2-1中列出了MATLAB和IPT为表示像素所支持的各种数据类。表中的前8项称为数值数据类，第9项称为字符类，最后一项称为逻辑数据类。
工具箱中提供了执行必要缩放的函数(见表2-2)。以在图像类和类型间进行转化。

表2-1  MATLAB和IPT支持数据类型

| 名称 | 描述 |
| :------| :------ |
| double | 双精度浮点数，范围为[-1.79E+308 ~ +1.79E+308] |
| uint8 | 无符号8比特整数，范围为[0,255] |
| uint16 | 无符号16比特整数，范围为[0,65536] |
| uint32 | 无符号32比特整数，范围为[0,4294967295] |
| int8 | 有符号8比特整数，范围为[-128,127] |
| int16 | 有符号16比特整数，范围为[-32768,32767] |
| int32 | 有符号32比特整数，范围为[-2147483648,2147483647] |
| single | 单精度浮点数，范围为[-3.40E+38 ~ +3.40E+38] |
| char | 字符 |
| logical | 值为0或1 |


表2-2 格式转换函数

| 名称 | 将输入转化为 | 有效的输入图像数据类 |
| :------| :------ | :------ |
| im2uint8 | uint8 | logical,uint8,uint16和doulbe |
| im2uint16 | uint16 | logical,uint8,uint16和doulbe |
| mat2gray | double,范围为[0,1] | double |
| im2double | double | logical,uint8,uint16和doulbe |
| im2bw | logical | uint8,uint16和double |

## 图像的代数运算

图像的代数运算是图像的标准算术操作的实现方法，是两幅输入图像之间进行的点对点的加、减、乘、除运算后得到输出图像的过程。如果输入图像为A(x,y)和B(x,y)，输出图像为C(x,y)，则图像的代数运算有如下四种形式：

C(x,y) = A(x,y) + B(x,y)

C(x,y) = A(x,y) - B(x,y)

C(x,y) = A(x,y) * B(x,y)

C(x,y) = A(x,y) / B(x,y)

图像的代数运算在图像处理中有着广泛的应用，它除了可以实现自身所需的算术操作，还能为许多复杂的图像处理提供准备。例如，图像减法就可以用来检测同一场景或物体生产的两幅或多幅图像的误差。
使用MATLAB的基本算术符(+、-、*、/ 等)可以执行图像的算术操作，但是在此之前必须将图像转换为适合进行基本操作的双精度类型。为了更方便地对图像进行操作，MATLAB图像处理工具箱包含了一个能够实现所有非稀疏数值数据的算术操作的函数集合。

现在我们就通过案例来初体验一下：
1. 给图像的每一个像素加上一个常数可以使图像的亮度增加。例如，以下代码将增加图2所示的RGB图像的亮度，加亮后的结果如图所示。

```shell
# 读取一幅花的图像
RGB = imread(‘flower.tif’)；

# 给图像增加50的亮度
RGB2 = imadd(RGB,50)；

#将输出的图像设为一行两个，显示原图像在第一个展示
subplot(1,2,1)；imshow(RGB)；

#显示增加亮度后的图像在第二个展示
subplot(1,2,2)；imshow(RGB2)；
```

![](asset/20200617/flower_add.png)
图2 图像的亮度增加

2. 从原始图像中将背景亮度图像减去。

```shell
rice = imread(‘rice.tif’)；
background = imopen(rice, strel(‘disk’,15))；

#将原图像的背景亮度图像减去
rice2 = imsubtract(rice, background)；
subplot(1,2,1)；imshow(rice)；
subplot(1,2,2)；imshow(rice2)；
```

![](asset/20200617/sub_background.png)

图3 背景亮度图像减去

## 小结

本文简明的撰写了Matlab的概念及它应用的领域，特别是它在图像处理方面的应用。之后着重讲述了数字图像处理的概念、数据类和图像类型间的转化、图像的代数运算以及在实践中的小试牛刀，让读者利用Matlab对图像进行了简单地处理。今后，我也将会继续更新关于Matlab在数字图像处理方面的分析与实践。








